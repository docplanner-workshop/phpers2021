paths:
  - ./../src
exclude_files:
  - '#.*Test.*#'
  - '#.*Tests.*#'
layers:
  - name: ModuleApi
    collectors:
      - type: bool
        must:
          - type: className
            regex: App\\Core\\Availability\\Infrastructure\\Entry\\ModuleApi\.*
  - name: Application
    collectors:
      - type: bool
        must:
          - type: className
            regex: App\\Core\\Availability\\Application\.*
  - name: Domain
    collectors:
      - type: bool
        must:
          - type: className
            regex: App\\Core\\Availability\\Domain\.*
  - name: Infrastructure
    collectors:
      - type: bool
        must:
          - type: className
            regex: App\\Core\\Availability\\Infrastructure\.*
        must-not:
          - type: className
            regex: App\\Core\\Availability\\Infrastructure\\Entry\\ModuleApi\.*
  - name: Shared
    collectors:
      - type: bool
        must:
          - type: className
            regex: App\\Shared\.*
  - name: System
    collectors:
      - type: bool
        must:
          - type: className
            regex: App\.*
        must-not:
          - type: className
            regex: App\\Core\\Availability\.*
          - type: className
            regex: App\\DataFixtures\.*
          - type: className
            regex: App\\Shared\.*
          - type: className
            regex:  Doctrine\\ORM\\Mapping

ruleset:
  ModuleApi:
    - Application
  Application:
    - Domain
  Domain:
    - Shared
  Infrastructure:
    - Domain
    - Application
  System:
    - Shared
    - ModuleApi
  Shared:
    - System



